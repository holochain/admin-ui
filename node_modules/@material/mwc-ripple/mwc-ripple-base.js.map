{"version":3,"file":"mwc-ripple-base.js","sourceRoot":"","sources":["mwc-ripple-base.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {matches} from '@material/dom/ponyfill';\nimport {BaseElement} from '@material/mwc-base/base-element';\nimport {RippleInterface} from '@material/mwc-base/utils';\nimport {MDCRippleAdapter} from '@material/ripple/adapter';\nimport MDCRippleFoundation from '@material/ripple/foundation';\nimport {html, property, PropertyValues, query, state, TemplateResult} from 'lit-element';\nimport {classMap} from 'lit-html/directives/class-map.js';\nimport {styleMap} from 'lit-html/directives/style-map.js';\n\n/** @soyCompatible */\nexport class RippleBase extends BaseElement implements RippleInterface {\n  @query('.mdc-ripple-surface') mdcRoot!: HTMLElement;\n\n  @property({type: Boolean}) primary = false;\n\n  @property({type: Boolean}) accent = false;\n\n  @property({type: Boolean}) unbounded = false;\n\n  @property({type: Boolean}) disabled = false;\n\n  @property({type: Boolean}) activated = false;\n\n  @property({type: Boolean}) selected = false;\n\n  @property({type: Boolean}) internalUseStateLayerCustomProperties = false;\n\n  @state() protected hovering = false;\n\n  @state() protected bgFocused = false;\n\n  @state() protected fgActivation = false;\n\n  @state() protected fgDeactivation = false;\n\n  @state() protected fgScale = '';\n\n  @state() protected fgSize = '';\n\n  @state() protected translateStart = '';\n\n  @state() protected translateEnd = '';\n\n  @state() protected leftPos = '';\n\n  @state() protected topPos = '';\n\n  protected mdcFoundationClass = MDCRippleFoundation;\n\n  protected mdcFoundation!: MDCRippleFoundation;\n\n  get isActive(): any {\n    return matches(this.parentElement || this, ':active');\n  }\n\n  createAdapter(): MDCRippleAdapter {\n    return {\n      browserSupportsCssVars: () => true,\n      isUnbounded: () => this.unbounded,\n      isSurfaceActive: () => this.isActive,\n      isSurfaceDisabled: () => this.disabled,\n      addClass: (className: string) => {\n        switch (className) {\n          case 'mdc-ripple-upgraded--background-focused':\n            this.bgFocused = true;\n            break;\n          case 'mdc-ripple-upgraded--foreground-activation':\n            this.fgActivation = true;\n            break;\n          case 'mdc-ripple-upgraded--foreground-deactivation':\n            this.fgDeactivation = true;\n            break;\n          default:\n            break;\n        }\n      },\n      removeClass: (className: string) => {\n        switch (className) {\n          case 'mdc-ripple-upgraded--background-focused':\n            this.bgFocused = false;\n            break;\n          case 'mdc-ripple-upgraded--foreground-activation':\n            this.fgActivation = false;\n            break;\n          case 'mdc-ripple-upgraded--foreground-deactivation':\n            this.fgDeactivation = false;\n            break;\n          default:\n            break;\n        }\n      },\n      containsEventTarget: () => true,\n      registerInteractionHandler: () => undefined,\n      deregisterInteractionHandler: () => undefined,\n      registerDocumentInteractionHandler: () => undefined,\n      deregisterDocumentInteractionHandler: () => undefined,\n      registerResizeHandler: () => undefined,\n      deregisterResizeHandler: () => undefined,\n      updateCssVariable: (varName: string, value: string) => {\n        switch (varName) {\n          case '--mdc-ripple-fg-scale':\n            this.fgScale = value;\n            break;\n          case '--mdc-ripple-fg-size':\n            this.fgSize = value;\n            break;\n          case '--mdc-ripple-fg-translate-end':\n            this.translateEnd = value;\n            break;\n          case '--mdc-ripple-fg-translate-start':\n            this.translateStart = value;\n            break;\n          case '--mdc-ripple-left':\n            this.leftPos = value;\n            break;\n          case '--mdc-ripple-top':\n            this.topPos = value;\n            break;\n          default:\n            break;\n        }\n      },\n      computeBoundingRect: () =>\n          (this.parentElement || this).getBoundingClientRect(),\n      getWindowPageOffset: () =>\n          ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  startPress(ev?: Event) {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.activate(ev);\n    });\n  }\n\n  endPress() {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.deactivate();\n    });\n  }\n\n  startFocus() {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.handleFocus();\n    });\n  }\n\n  endFocus() {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.handleBlur();\n    });\n  }\n\n  startHover() {\n    this.hovering = true;\n  }\n\n  endHover() {\n    this.hovering = false;\n  }\n\n  /**\n   * Wait for the MDCFoundation to be created by `firstUpdated`\n   */\n  protected waitForFoundation(fn: () => void) {\n    if (this.mdcFoundation) {\n      fn();\n    } else {\n      this.updateComplete.then(fn);\n    }\n  }\n\n  protected override update(changedProperties: PropertyValues<this>) {\n    if (changedProperties.has('disabled')) {\n      // stop hovering when ripple is disabled to prevent a stuck \"hover\" state\n      // When re-enabled, the outer component will get a `mouseenter` event on\n      // the first movement, which will call `startHover()`\n      if (this.disabled) {\n        this.endHover();\n      }\n    }\n    super.update(changedProperties);\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    const shouldActivateInPrimary =\n        this.activated && (this.primary || !this.accent);\n    const shouldSelectInPrimary =\n        this.selected && (this.primary || !this.accent);\n\n    /** @classMap */\n    const classes = {\n      'mdc-ripple-surface--accent': this.accent,\n      'mdc-ripple-surface--primary--activated': shouldActivateInPrimary,\n      'mdc-ripple-surface--accent--activated': this.accent && this.activated,\n      'mdc-ripple-surface--primary--selected': shouldSelectInPrimary,\n      'mdc-ripple-surface--accent--selected': this.accent && this.selected,\n      'mdc-ripple-surface--disabled': this.disabled,\n      'mdc-ripple-surface--hover': this.hovering,\n      'mdc-ripple-surface--primary': this.primary,\n      'mdc-ripple-surface--selected': this.selected,\n      'mdc-ripple-upgraded--background-focused': this.bgFocused,\n      'mdc-ripple-upgraded--foreground-activation': this.fgActivation,\n      'mdc-ripple-upgraded--foreground-deactivation': this.fgDeactivation,\n      'mdc-ripple-upgraded--unbounded': this.unbounded,\n      'mdc-ripple-surface--internal-use-state-layer-custom-properties':\n          this.internalUseStateLayerCustomProperties,\n    };\n    return html`\n        <div class=\"mdc-ripple-surface mdc-ripple-upgraded ${classMap(classes)}\"\n          style=\"${styleMap({\n      '--mdc-ripple-fg-scale': this.fgScale,\n      '--mdc-ripple-fg-size': this.fgSize,\n      '--mdc-ripple-fg-translate-end': this.translateEnd,\n      '--mdc-ripple-fg-translate-start': this.translateStart,\n      '--mdc-ripple-left': this.leftPos,\n      '--mdc-ripple-top': this.topPos,\n    })}\"></div>`;\n  }\n}\n"]}