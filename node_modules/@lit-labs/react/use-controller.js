/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t=Promise.resolve();class s{constructor(t,s){this.t=[],this.i=!0,this.o=t,this.h=s,this.u=new Promise(((t,s)=>{this.l=t}))}addController(t){this.t.push(t)}removeController(t){var s;null===(s=this.t)||void 0===s||s.splice(this.t.indexOf(t)>>>0,1)}requestUpdate(){this.i||(this.i=!0,t.then((()=>this.h(++this.o))))}get updateComplete(){return this.u}v(){this.t.forEach((t=>{var s;return null===(s=t.hostConnected)||void 0===s?void 0:s.call(t)}))}p(){this.t.forEach((t=>{var s;return null===(s=t.hostDisconnected)||void 0===s?void 0:s.call(t)}))}m(){this.t.forEach((t=>{var s;return null===(s=t.hostUpdate)||void 0===s?void 0:s.call(t)}))}_(){this.i=!1;const t=this.l;this.u=new Promise(((t,s)=>{this.l=t})),this.t.forEach((t=>{var s;return null===(s=t.hostUpdated)||void 0===s?void 0:s.call(t)})),t(this.i)}}const i=(t,i)=>{const{useState:e,useLayoutEffect:r}=t,[o,n]=e(0),[h]=e((()=>{const t=new s(o,n),e=i(t);return t.C=e,t.v(),t}));return h.i=!0,r((()=>h._())),r((()=>()=>h.p()),[]),h.m(),h.C};export{i as useController};
//# sourceMappingURL=use-controller.js.map
